<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><span lang="zh-CN">环境感知系统 API 文档 - 循星科技</span><span lang="en">Environmental Sensing System API Documentation - SidebyStar</span></title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/animations.css">
    <style>
        /* Styles specific to documentation pages */
        body {
            line-height: 1.8; /* Slightly increase line height for readability */
        }
        .docs-content {
            background-color: var(--card-bg, rgba(44, 62, 80, 0.6)); /* Use global or default card bg */
            padding: 40px;
            border-radius: 10px;
            box-shadow: var(--card-shadow, 0 5px 15px rgba(0,0,0,0.3));
            margin-top: -20px; /* Pull content slightly under header bottom border */
        }

        .docs-content h2 {
            font-size: 1.8rem;
            margin-top: 40px;
            margin-bottom: 20px;
            color: var(--primary-color);
            font-weight: 600;
            border-bottom: 1px solid rgba(var(--accent-color-rgb), 0.4);
            padding-bottom: 10px;
        }
        .docs-content h2:first-of-type {
             margin-top: 0; /* Remove top margin for the first heading */
        }

        .docs-content h3 {
            font-size: 1.4rem;
            margin-top: 30px;
            margin-bottom: 15px;
            color: var(--accent-color);
            font-weight: 500;
        }

        .docs-content p, 
        .docs-content ul,
        .docs-content pre {
            margin-bottom: 15px;
            color: rgba(236, 240, 241, 0.9);
        }

        .docs-content ul {
            list-style: disc;
            padding-left: 25px;
        }
        .docs-content li {
             margin-bottom: 8px;
        }

        .docs-content code {
            background-color: rgba(0,0,0,0.3);
            padding: 2px 5px;
            border-radius: 4px;
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
        }

        .docs-content pre {
            background-color: rgba(0,0,0,0.4);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto; /* Allow horizontal scrolling for long code lines */
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            border: 1px solid rgba(var(--accent-color-rgb), 0.2);
        }

        .docs-content pre code {
            background-color: transparent; /* Reset background for code inside pre */
            padding: 0;
            border-radius: 0;
        }
        
        .docs-content a {
            color: var(--accent-color);
            text-decoration: none;
            border-bottom: 1px dotted var(--accent-color);
        }
        .docs-content a:hover {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        /* Add styles for API endpoint sections */
        .api-endpoint {
            border-left: 3px solid var(--accent-color);
            padding-left: 15px;
            margin-bottom: 30px;
        }
        .api-endpoint .method {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 10px;
            font-size: 0.9em;
            text-transform: uppercase;
        }
        .api-endpoint .method.get { background-color: #2ecc71; color: #000; }
        .api-endpoint .method.post { background-color: #3498db; color: #fff; }
        .api-endpoint .method.put { background-color: #f39c12; color: #fff; }
        .api-endpoint .method.delete { background-color: #e74c3c; color: #fff; }

        .api-endpoint .path {
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            font-size: 1.1em;
            color: var(--primary-color);
        }

        /* Language switch styles */
        .lang-switch {
            display: flex;
            gap: 5px;
            margin-left: 15px;
            border-left: 1px solid rgba(var(--accent-color-rgb), 0.3);
            padding-left: 15px;
        }
        .lang-switch a {
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 15px;
            transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.9rem;
            border: 1px solid transparent;
            background-color: transparent;
        }
        .lang-switch a:hover {
            background-color: rgba(var(--accent-color-rgb), 0.2);
            color: var(--accent-color);
            border-color: rgba(var(--accent-color-rgb), 0.4);
        }
        .lang-switch a.active-lang {
            font-weight: bold;
            background-color: rgba(var(--accent-color-rgb), 0.3);
            color: var(--primary-color);
            border-color: rgba(var(--accent-color-rgb), 0.5);
        }
        /* Hide inactive language spans by default */
        html[lang="zh-CN"] [lang="en"],
        html[lang="en"] [lang="zh-CN"] {
            display: none;
        }
        /* Show active language spans */
        html[lang="zh-CN"] [lang="zh-CN"],
        html[lang="en"] [lang="en"] {
            display: inline;
        }
        
    </style>
</head>
<body class="documentation-page"> 
    <header>
        <div class="container">
            <div class="logo"><span lang="zh-CN">循星科技</span><span lang="en">SidebyStar</span></div>
            <div class="tagline">
                <span lang="zh-CN">环境感知系统 API 文档</span>
                <span lang="en">Environmental Sensing System API Documentation</span>
            </div>
            <div class="nav">
                <!-- 导航将由navigation.js动态生成 -->
            </div>
        </div>
    </header>

    <section id="docs">
        <div class="container">
            <div class="docs-content animate-on-scroll">
                <h2>
                    <span lang="zh-CN">简介</span>
                    <span lang="en">Introduction</span>
                </h2>
                <p>
                    <span lang="zh-CN">欢迎使用循星科技环境感知系统 (ESS) API。本 API 允许开发者通过标准 RESTful 接口与我们的环境感知硬件进行交互，获取实时传感器数据，并接收关键事件通知。</span>
                    <span lang="en">Welcome to SidebyStar Environmental Sensing System (ESS) API. This API allows developers to interact with our environmental sensing hardware through standard RESTful interfaces, obtaining real-time sensor data and receiving critical event notifications.</span>
                </p>
                <p>
                    <span lang="zh-CN">我们致力于提供一个安全、可靠且易于集成的接口，帮助您将环境智能融入您的应用程序和服务中。所有核心数据处理均在本地设备完成，API 调用仅限于授权访问和控制。</span>
                    <span lang="en">We are committed to providing a secure, reliable, and easy-to-integrate interface that helps you incorporate environmental intelligence into your applications and services. All core data processing is completed on local devices, with API calls limited to authorized access and control.</span>
                </p>

                <h2>
                    <span lang="zh-CN">快速开始</span>
                    <span lang="en">Quick Start</span>
                </h2>
                <p>
                    <span lang="zh-CN">要开始使用 API，您需要：</span>
                    <span lang="en">To start using the API, you need to:</span>
                </p>
                <ul>
                    <li>
                        <span lang="zh-CN">获取 API 密钥和设备 ID (请参考 <a href="#authentication">认证</a> 部分)。</span>
                        <span lang="en">Obtain API key and device ID (please refer to <a href="#authentication">Authentication</a> section).</span>
                    </li>
                    <li>
                        <span lang="zh-CN">熟悉 REST API 的基本概念。</span>
                        <span lang="en">Familiarize yourself with basic REST API concepts.</span>
                    </li>
                    <li>
                        <span lang="zh-CN">选择您偏好的编程语言和 HTTP 客户端库。</span>
                        <span lang="en">Choose your preferred programming language and HTTP client library.</span>
                    </li>
                </ul>
                <p>
                    <span lang="zh-CN">(更多详细步骤和设置指南即将推出...)</span>
                    <span lang="en">(More detailed steps and setup guides coming soon...)</span>
                </p>

                <h2 id="authentication">
                    <span lang="zh-CN">认证</span>
                    <span lang="en">Authentication</span>
                </h2>
                <p>
                    <span lang="zh-CN">所有 API 请求都需要通过 API 密钥进行认证。请将您的密钥包含在请求的 `Authorization` 头中。</span>
                    <span lang="en">All API requests require authentication through API keys. Please include your key in the `Authorization` header of your request.</span>
                </p>
                <pre><code class="language-http">Authorization: Bearer YOUR_API_KEY</code></pre>
                <p>
                    <span lang="zh-CN">请妥善保管您的 API 密钥，不要在客户端代码中公开。(认证流程细节待补充...)</span>
                    <span lang="en">Please keep your API key secure and do not expose it in client-side code. (Authentication process details to be added...)</span>
                </p>

                <h2 id="api-reference">
                    <span lang="zh-CN">API 参考</span>
                    <span lang="en">API Reference</span>
                </h2>
                
                <h3>
                    <span lang="zh-CN">获取传感器列表</span>
                    <span lang="en">Get Sensor List</span>
                </h3>
                <div class="api-endpoint">
                    <p><span class="method get">GET</span> <span class="path">/v1/sensors</span></p>
                    <p>
                        <span lang="zh-CN">返回当前设备连接的所有可用传感器及其元数据。</span>
                        <span lang="en">Returns all available sensors connected to the current device and their metadata.</span>
                    </p>
                    <h4>
                        <span lang="zh-CN">响应示例 (JSON):</span>
                        <span lang="en">Response Example (JSON):</span>
                    </h4>
                    <pre><code class="language-json">{
  "sensors": [
    {
      "id": "temp-livingroom",
      "type": "temperature",
      "unit": "Celsius",
      "location": "<span lang="zh-CN">客厅</span><span lang="en">Living Room</span>",
      "status": "active"
    },
    {
      "id": "humidity-bedroom",
      "type": "humidity",
      "unit": "%",
      "location": "<span lang="zh-CN">卧室</span><span lang="en">Bedroom</span>",
      "status": "active"
    }
    // ... more sensors
  ]
}</code></pre>
                </div>

                <h3>
                    <span lang="zh-CN">读取实时传感器数据</span>
                    <span lang="en">Read Real-time Sensor Data</span>
                </h3>
                 <div class="api-endpoint">
                    <p><span class="method get">GET</span> <span class="path">/v1/sensors/{sensor_id}/reading</span></p>
                     <p>
                        <span lang="zh-CN">获取指定传感器的最新读数。</span>
                        <span lang="en">Get the latest reading from the specified sensor.</span>
                     </p>
                     <h4>
                        <span lang="zh-CN">路径参数:</span>
                        <span lang="en">Path Parameters:</span>
                     </h4>
                    <ul>
                        <li>
                            <code>sensor_id</code> (string, required): 
                            <span lang="zh-CN">要查询的传感器 ID。</span>
                            <span lang="en">The sensor ID to query.</span>
                        </li>
                    </ul>
                    <h4>
                        <span lang="zh-CN">响应示例 (JSON):</span>
                        <span lang="en">Response Example (JSON):</span>
                    </h4>
                    <pre><code class="language-json">{
  "sensor_id": "temp-livingroom",
  "value": 23.5,
  "unit": "Celsius",
  "timestamp": "2025-10-26T10:30:00Z"
}</code></pre>
                 </div>

                <h3>
                    <span lang="zh-CN">订阅事件 (通过 WebSocket - 示例)</span>
                    <span lang="en">Subscribe to Events (via WebSocket - Example)</span>
                </h3>
                 <div class="api-endpoint">
                     <p><span class="method">WS</span> <span class="path">/v1/events/subscribe</span></p>
                     <p>
                        <span lang="zh-CN">通过 WebSocket 连接实时接收传感器事件（例如，阈值触发、状态变化）。</span>
                        <span lang="en">Receive real-time sensor events via WebSocket connection (e.g., threshold triggers, status changes).</span>
                     </p>
                     <p>
                        <span lang="zh-CN">(连接协议和消息格式待详细说明...)</span>
                        <span lang="en">(Connection protocol and message format to be detailed...)</span>
                     </p>
                 </div>

                <h2 id="sdk">SDK</h2>
                <p>
                    <span lang="zh-CN">为了简化集成，我们提供了适用于常用语言的 SDK。(SDK 列表和下载链接即将推出...)</span>
                    <span lang="en">To simplify integration, we provide SDKs for commonly used languages. (SDK list and download links coming soon...)</span>
                </p>
                <ul>
                    <li>
                        <span lang="zh-CN">Python SDK</span>
                        <span lang="en">Python SDK</span>
                    </li>
                    <li>
                        <span lang="zh-CN">JavaScript SDK</span>
                        <span lang="en">JavaScript SDK</span>
                    </li>
                    <li>
                        <span lang="zh-CN">Java SDK (规划中)</span>
                        <span lang="en">Java SDK (planned)</span>
                    </li>
                </ul>

                <h2 id="error-handling">
                    <span lang="zh-CN">错误处理</span>
                    <span lang="en">Error Handling</span>
                </h2>
                <p>
                    <span lang="zh-CN">API 使用标准的 HTTP 状态码来指示请求的成功或失败。</span>
                    <span lang="en">The API uses standard HTTP status codes to indicate the success or failure of requests.</span>
                </p>
                <ul>
                    <li>
                        <code>200 OK</code>: 
                        <span lang="zh-CN">请求成功。</span>
                        <span lang="en">Request successful.</span>
                    </li>
                    <li>
                        <code>400 Bad Request</code>: 
                        <span lang="zh-CN">请求参数无效。</span>
                        <span lang="en">Invalid request parameters.</span>
                    </li>
                    <li>
                        <code>401 Unauthorized</code>: 
                        <span lang="zh-CN">无效的 API 密钥或未授权。</span>
                        <span lang="en">Invalid API key or unauthorized.</span>
                    </li>
                    <li>
                        <code>404 Not Found</code>: 
                        <span lang="zh-CN">请求的资源（如传感器 ID）不存在。</span>
                        <span lang="en">Requested resource (such as sensor ID) does not exist.</span>
                    </li>
                    <li>
                        <code>500 Internal Server Error</code>: 
                        <span lang="zh-CN">服务器内部错误。</span>
                        <span lang="en">Internal server error.</span>
                    </li>
                </ul>
                <p>
                    <span lang="zh-CN">失败的请求通常会在响应体中包含一个 JSON 对象，提供更详细的错误信息。(错误响应格式待定义...)</span>
                    <span lang="en">Failed requests typically include a JSON object in the response body providing more detailed error information. (Error response format to be defined...)</span>
                </p>

                <h2 id="code-examples">
                    <span lang="zh-CN">示例代码</span>
                    <span lang="en">Code Examples</span>
                </h2>
                <p>
                    <span lang="zh-CN">以下是使用 Python 获取传感器列表的简单示例：</span>
                    <span lang="en">Here's a simple example of getting the sensor list using Python:</span>
                </p>
                <pre><code class="language-python">import requests

API_KEY = "YOUR_API_KEY"
BASE_URL = "https://ess.sidebystar.local/api" # <span lang="zh-CN">假设的本地设备地址</span><span lang="en">Assumed local device address</span>

headers = {
    "Authorization": f"Bearer {API_KEY}"
}

try:
    response = requests.get(f"{BASE_URL}/v1/sensors", headers=headers, verify=False) # verify=False for local dev only
    response.raise_for_status() # Raise HTTPError for bad responses (4xx or 5xx)
    sensors = response.json()
    print("<span lang="zh-CN">可用传感器:</span><span lang="en">Available sensors:</span>")
    for sensor in sensors.get('sensors', []):
        print(f"- {sensor['id']} ({sensor['type']} @ {sensor.get('location', 'N/A')})")
except requests.exceptions.RequestException as e:
    print(f"<span lang="zh-CN">请求错误:</span><span lang="en">Request error:</span> {e}")
except Exception as e:
    print(f"<span lang="zh-CN">发生错误:</span><span lang="en">Error occurred:</span> {e}")

</code></pre>
                <p>
                    <span lang="zh-CN">(更多语言的示例即将添加...)</span>
                    <span lang="en">(Examples in more languages to be added...)</span>
                </p>

            </div>
        </div>
    </section>

    <footer class="animate-on-scroll">
        <div class="container">
            <div class="logo"><span lang="zh-CN">循星科技</span><span lang="en">SidebyStar</span></div>
            <div class="contact-info">
                <p>
                    <span lang="zh-CN">地址：中国浙江省杭州市萧山区杭州湾信息港E座</span>
                    <span lang="en">Address: Block E, Hangzhou Bay Information Port, Xiaoshan District, Hangzhou, Zhejiang Province, China</span>
                </p>
                <p>
                    <span lang="zh-CN">电话：+86 15568200088</span>
                    <span lang="en">Phone: +86 15568200088</span>
                </p>
                <p>
                    <span lang="zh-CN">邮箱：sidebystar@outlook.com</span>
                    <span lang="en">Email: sidebystar@outlook.com</span>
                </p>
            </div>
            <div class="social-links">
                <div class="tooltip">
                    <a href="#" aria-label="微信">微</a>
                    <span class="tooltiptext">微信号: nikebiewanle</span>
                </div>
                <div class="tooltip">
                    <a href="#" aria-label="微博">博</a>
                    <span class="tooltiptext">微博: nikebiewanle</span>
                </div>
                <div class="tooltip">
                    <a href="#" aria-label="领英">领</a>
                    <span class="tooltiptext">领英: nikebiewanle</span>
                </div>
                <div class="tooltip">
                    <a href="#" aria-label="GitHub">G</a>
                    <span class="tooltiptext">GitHub: qihao-yuan</span>
                </div>
            </div>
            <p style="margin-top: 20px;">
                <span lang="zh-CN">&copy; 2025 循星科技. 保留所有权利。</span>
                <span lang="en">&copy; 2025 SidebyStar. All rights reserved.</span>
            </p>
        </div>
    </footer>

    <script src="../js/animations.js"></script>
    <script src="../js/navigation.js"></script>
    <script src="../js/language.js"></script>
</body>
</html> 